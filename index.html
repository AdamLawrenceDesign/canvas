<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <title>Gift Items | Canvas</title>
    <link rel="shortcut icon" href="img/logo.png">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,500italic|Open+Sans:400,300,700,600,300italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="lib/prod/screen.css?v1.1" />
    <link rel="stylesheet" href="lib/prod/create_fonts.css?v1.1" />
</head>

<body>

    <header class="prm box-shadow ease_sd">
        <img id="header_logo" class="fl_lt" src="assets/svg/logo.svg?v1.1" alt="" />
        <span id="headerMessage" class="fl_lt txt-fff m_l_left m_m_top" >
            <a href="#" class="txt_sm back">Back to Layouts</a> > 
        </span>
        <button class="export fl_rt button round-sd">
            ADD TO CART <span class="icon-cart m_l_left txt-fff"></span>
        </button>
        <div class="clearfix"></div>
    </header>   
    
    <aside class="clearfix">
 
        <div id="wrapAssets" class="clearfix"> <!-- scroll -->

            <div id="assetsShortcuts" class="clearfix align_lt p_l_top">
                <h3>Gift Items</h3>
                <h4>Product Information</h4>
                <div class="underline-solid"></div>
                <div id="productInformation" class="clearfix">
                    <p>
                        <img class="fl_rt productImage" src="" alt="" /> 
                        <span class="description"></span><br/>
                        <a href="#" class="txt_sm back"><span class="itemName"></span></a><br/>
                        <span class="txt_red price"></span>
                    </p>

                    <div class="clearfix"></div>

                    <div class="clearfix m_m_top" style="min-height:1em">
                        <div class="productQty">
                            <span class="txt_xs">QTY&nbsp;</span>
                            <span class="input_area_select border_ntl round_sd relative inline_block txt_xs">
                                <select id="qty" style="width:4em">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                                <label class="icon-arrow-down2 border_box" style="color:#333"></label>
                            </span>
                        </div>
                        <button id="export-aside" class="export _50_m button btn-orange round-sd txt_xs">
                            ADD TO CART <span class="icon-cart m_l_left txt-fff"></span>                       
                        </button>
                    </div>

                    <div class="clearfix"></div>
                    <div class="underline-solid m_l_top"></div>
                   
                    <ul id="orientationLinks">
                        <li>
                        <a href="#" id="portrait" class="clearfix m_l_top txt_sm">
                            Portrait<span class="icon-checkmark fl_rt hidden" style="color:#4bc9bd;"></span>
                        </a>
                        </li>
                        <li>
                        <a href="#" id="landscape" class="clearfix m_m_top txt_sm">
                           Landscape<span class="icon-checkmark fl_rt hidden" style="color:#4bc9bd;"></span> 
                        </a>
                        </li>
                    </ul>
                   
                   <div class="underline-solid m_l_top"></div>
                </div>

                <div id="uploadImages" class="align_ct p_m_top clearfix">
                    <h4 class="align_lt">Upload Image/s</h4>
                    <div id="wrap-upload" class="relative clearfix">
                        <input id="upload-display" type="text" disabled="disabled"></input>
                        <button id="upload-button" class="button txt_sm">Browse</button>
                        <input id="upload-file" type="file" />
                        <div class="clearfix"></div>
                    </div> 
                    
                    <!--<input type="text" id= disabled="disabled" class="hidden" /> -->
                    <button id="upload-init" type="button" class="button btn-orange round txt_sm round-sd txt_sm" data-toggle="tooltip">
                        <span class="icon-plus m_m_right txt-fff round"></span>Add Image
                    </button>

                    <ul id="uploadedImages" class="clearfix relative halfs m_l_top">
                    </ul>
                
                </div>

                <div class="quickLinks p_l_bottom clearfix">
                    <h4 class="align_ct">More Image/s</h4>
                    
                    <a href="#" class="clearfix" data-link="Images" style="margin-top:2em">
                        <span class="icon-arrow-down"></span>
                    </a>
                </div>

                <div class="clearfix"></div>
            </div>

            <div id="assetsThemes" class="clearfix hidden">

                <ul id="listThemes" class="clearfix inline">
                </ul>
                
                <div class="clearfix m_l_right align_ct pagnation button_wrp m_l_top"></div>

                <div class="clearfix"></div>
                
                <div class="quickLinks">
                    <a href="#" class="clearfix" data-link="Images">
                        <span class="icon-arrow-down"></span>
                    </a>
                </div>
            </div>
            
            <div id="assetsImages" class="clearfix">

                <ul id="listImages" class="clearfix relative halfs">
                </ul>
                
                <div class="clearfix"></div>
                
                <div class="underline-arrow m_l_top m_l_bottom"></div>
                
                <button class="button inline_block open_next_xtr m_l_top round-sd" style="cursor:pointer">UPLOAD IMAGE</button>
                
                <div class="clearfix"></div>
                
                <div class="quickLinks">
                    <a href="#" class="clearfix" data-link="Text">
                        <span class="icon-arrow-down"></span>
                    </a>
                </div>
                
                <div class="clearfix" style="height:3em;"></div>              
            </div>
            
            <div id="assetsText" class="clearfix">

                <div class="m_l_bottom bg_fa clearfix p_l_top p_l_bottom">
                
                    <a id="addText" class="ease-sd"></a>
                    
                    <div class="clearfix" style="height:1em"></div>
                    
                    <a id="changeTextTheme" href="#" class="txt_xs button p_m _100 m_l_top"><b>NEW OPTION</b></a>
                    
                    <div class="clearfix"></div>
                
                </div> 
                
                <p class="txt_sm">TEXT STICKERS</p>
                
                <ul id="listTextThemes" class="m_l_top relative thirds">
                </ul>
                
                <div class="clearfix"></div>
                
                <div class="quickLinks">
                    <a href="#" class="clearfix" data-link="Images">
                        <span class="icon-arrow-up"></span>
                    </a>
                </div>
                
            </div>
            <!--
            <div id="assetsSize" class="clearfix">

                <ul id="listSize" class="thirds inline">
                </ul>
                
                <div class="clearfix"></div>
                
                <div class="underline-arrow m_l_top"></div>

            </div>
            -->
        </div>
        
        <div id="aside-loader">
            <span></span>
        </div>

        <div class="clearfix"></div>
    </aside>
        
    <main id="main-wrap" class="clearfix">
    
        <ul id="tabs" class="m_l_top">
        
            <li class="selected">
                <a href="#" class="clearfix" data-link="Shortcuts">
                    <span class="icon-search"></span>
                    <p>
                    PRODUCT<br/>
                    INFO
                    </p>
                </a>
            </li>
            <li class="themesObj hidden">
                <a href="#" class="clearfix" data-link="Themes">
                    <span class="icon-pictures"></span>
                    <p>THEMES</p>
                </a>
            </li>   
            <li>
                <a href="#" class="clearfix" data-link="Images">
                    <span class="icon-camera2"></span>
                    <p>PHOTOS</p>
                </a>
            </li>                                           
            
            <li>
                <a href="#" class="clearfix" data-link="Text">
                    <span class="icon-pilcrow"></span>
                    <p>ADD TEXT</p>
                </a>
            </li>       
            <!--                                
            <li>
                <a href="#" class="clearfix" data-link="Size">
                    <span class="icon-crop top txt_md"></span>
                    <p>Size</p>
                </a>
            </li>   
            -->
            <li>
                <a href="#"></a>
            </li>          
        </ul>                                                               
        
        <ul id="nav-pages" class="m_l_top hidden">
        </ul>                                                               

        <div id="zoom" class="hidden">
            <a id="rotate" href="#">
                <span class="txt_sm">ORIENTATION</span><span class="icon-spinner m_l_left"></span>
            </a> 
            
            <span class="m_l_left m_l_right">|</span>
            
            <a id="canvasSmaller" href="#"><span class="icon-zoomout m_l_right"></span></a>
            <span class="txt_sm">VIEW</span>
            <a id="canvasLarger" href="#"><span class="icon-zoomin m_l_left"></span></a>
        </div>
      
        <ul id="palette" class="hidden top_max">
        
            <li id="filter">
                <a href="#">
                    Filter
                    <span class="icon-arrow-down2 m_m_left"></span>
                </a>
                <ul>
                    <li>
                        <p class="_m_m_bottom">Opacity</p>
                        <input id="opacity" type="range" value="100" />
                    </li>
                    <li id="greyscale" class="m_l_top _100">
                        <div class="underline-solid p_l_bottom"></div>
                        <span>Greyscale</span>
                    </li>
                    <li id="imageColour" class="m_l_bottom _100">
                        <div class="underline-solid p_l_bottom"></div>
                        <span>Colour</span>
                    </li>
                </ul>
            </li>
                    
            <li id="colourPalette">
                <a href="#">
                    Colour
                    <span class="icon-arrow-down2 m_m_left"></span>
                </a>
                <ul id="colourContainer">
                </ul>
            </li>
            
            <li id="textStyle">
                <a href="#">
                    Style
                    <span class="icon-arrow-down2 m_m_left"></span>
                </a>
                <ul id="textStyleContainer" class="p_m_top">
                    <li>
                        <span class="input_area_select border_ntl round_sd relative inline_block">
                            <select id="fontFamily" style="width:16em">
                                <option style="font-family:Verdana, Geneva, sans-serif" value="Verdana, Geneva, sans-serif">Verdana</option>
                                <option style="font-family:Arial, Helvetica, sans-serif" value="Arial, Helvetica, sans-serif">Arial</option>        <!-- Palatino Linotype, Book Antiqua3, Palatino, serif -->
                                <option style="font-family:'Georgia, serif" value="Georgia, serif">Georgia</option>
                                <option style="font-family:'Tahoma, Geneva, sans-serif" value="Tahoma, Geneva, sans-serif">Tahoma</option>
                            </select>
                            <label class="icon-arrow-down2 border_box" style="color:#333"></label>
                        </span>
                    </li>
                    <li id="alignLeft" class="clearfix _100">
                        <p class="align_lt">Align Left<span class="icon-paragraph-left m_l_left" data-algn="left"></span></p>
                    </li>
                    <li id="alignCenter" class="clearfix _100">
                        <p class="align_ct">Align Center<span class="icon-paragraph-center m_l_left" data-algn="center"></span></p>
                    </li>
                    <li id="alignRight" class="clearfix _100">
                        <p class="align_rt">Align Right<span class="icon-paragraph-right m_l_left" data-algn="right"></span></p>
                    </li>
                    <li class="m_l_top _100">
                        <div class="underline-solid"></div>
                        <p>Font Size</p>
                        <div class="inline_block clearfix relative" style="width:100%"> 
                             <input id="fontSize" type="range" class="txt_xs" style="width:100%">
                        </div>
                    </li>
                    <li class="m_m_top m_l_bottom _100">
                        <div class="underline-solid"></div>
                        <p>Line Height</p>
                        <div class="inline_block clearfix relative" style="width:100%"> 
                             <input id="lineHeight" type="range" min="1" max="2" step=".1" value="1.4" class="txt_xs" style="width:100%">
                        </div>
                    </li>
                </ul>
            </li>       
                
            <li id="back">Back</li>
            <li id="forward">Forward</li>
            <li id="grow"><span class="icon-plus"></span></li>
            <li id="shrink"><span class="icon-minus"></span></li>
            <li id="trash"><span class="icon-trash"></span></li>            
        </ul>
        
        <div id="canvas-loader">
            <span></span>
        </div>

        <p id="JSON_export" class="txt_sm hidden"></p>      
    </main>    
    
    <div id="templates" class="hidden">
        <div id="template-wrap-canvas" class="clearfix wrap-canvas">
            <figure id="canvas-shadow" class="ease-sd"></figure>
            <canvas></canvas>
            <figure id="grid">
            </figure>
        </div>
    </div>
    
    <div id="screenChange" class="fixed_max middle linear hidden">
        <div class="absolute_vert_center inline" style="height:5em;">
            <img src="assets/img/loading.gif" alt="" style="height:2em" />
            <h2 class="txt_sm m_m_top">PLEASE WAIT...</h2>
        </div>
    </div>
    
    <div id="warning-message-wrap">
        <div id="warning-message" class="_50_m p_l txt_sm">
            <h3>Warning</h3>
            <!-- <p>Changing the orientations of your canvas will may give you unexpected results with the content of you canvas</p> -->
            <p>We are sorry your screen is to small to use our editing platform. Please try again on a larger device.</p>
            <div class="p_m align_ct">
                <button class="button round-sd txt_sm back" style="background:#ffa45a;display:inline-block">BACK</button>
            </div>     
            <!-- 
            <div class="p_m _50_s">
                <button id="warning-cancel" class="button round-sd txt_sm fl_rt" style="background:#ffa45a">CANCEL</button>
            </div>            
            <div class="p_m _50_s">
                <button id="warning-proceed"  class="button round-sd txt_sm fl_lt">PROCEED</button>
            </div>
            -->
        </div>
    </div>

    <div class="hidden">
        <div id="testing_phone"></div>
        <div id="testing_tablet"></div>
        <div id="testing_desktop"></div>
        <div id="testing_desktop_lg"></div>
    </div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="lib/fabric/fabric.min.js"></script>
    <!-- <script type="text/javascript" src="js/lib/create.min.js?v1.1"></script> -->

<script type="text/javascript" src="lib/src/js/slimScroll.js"></script>
<script type="text/javascript" src="lib/src/js/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="lib/src/js/image-preloader.js"></script>
<script type="text/javascript" src="lib/src/js/server-query.js"></script>
<script type="text/javascript" src="lib/src/js/page-style.js"></script>
<script type="text/javascript" src="lib/src/js/image-upload.js"></script>
<script type="text/javascript" src="lib/src/js/pagnation.js"></script>
<script type="text/javascript" src="lib/src/js/list-builder.js"></script>
<script type="text/javascript" src="lib/src/js/element-builder.js"></script>
<!-- <script type="text/javascript" src="lib/src/js/layout-manager.js"></script> -->
<script type="text/javascript" src="lib/src/js/scroll-manager.js"></script>
<script type="text/javascript" src="lib/src/js/export-json.js"></script>
<script type="text/javascript" src="lib/src/js/rotate-canvas.js"></script>
<script type="text/javascript" src="lib/src/js/palette-manager.js"></script>
<script type="text/javascript" src="lib/src/js/canvas-addItems.js"></script>
<script type="text/javascript" src="lib/src/js/load-assets.js"></script>
<script type="text/javascript" src="lib/src/js/canvas-grid.js"></script>
<script type="text/javascript" src="lib/src/js/event-manager.js"></script>
<script type="text/javascript" src="lib/src/js/insert-json.js"></script>
<script type="text/javascript" src="lib/src/js/search-and-replace.js"></script>
<script type="text/javascript" src="lib/src/js/canvas-setup.js"></script>
<script type="text/javascript" src="lib/src/js/app-init.js"></script>

<script type="text/javascript"> 
    var pages = [],  
        productData = [],
        layoutData = [],
        cropMarks = [],
        currentPageRef = '0',
        todaysDate = '', 
        userId, id1, id2, id3, firstName, lastName;
</script>

<script type="text/javascript">

// INITIALISE THE CANVAS APP
$(function()
{
    var appInitialise, website, user, type, productId, layoutId, jsonId, pages;

    //  PARSE URL 
    website = window.location.href.slice(window.location.href.search('webpage=')+8, window.location.href.search('&userId'));
    // GUEST ID 
    userId = window.location.href.slice(window.location.href.search('userId=')+7, window.location.href.search('&userName'));
    id1 = window.location.href.slice(window.location.href.search('id1=')+4, window.location.href.search('&id2'));
    id2 = window.location.href.slice(window.location.href.search('id2=')+4, window.location.href.search('&id3'));
    id3 = window.location.href.slice(window.location.href.search('id3=')+4, window.location.href.search('&firstName'));
    firstName =  window.location.href.slice(window.location.href.search('firstName=')+10, window.location.href.search('&lastName'));
    lastName =  window.location.href.slice(window.location.href.search('lastName=')+9, window.location.href.search('&type'));
    type = window.location.href.slice(window.location.href.search('type=')+5, window.location.href.search('&productId'));
    productId = window.location.href.slice(window.location.href.search('productId=')+10, window.location.href.search('&layoutId'));
    layoutId = window.location.href.slice(window.location.href.search('layoutId=')+9, window.location.href.search('&jsonId'));
    jsonId = window.location.href.slice(window.location.href.search('jsonId=')+7, window.location.href.search('&end')); 

    // JSON ID = 
    userInfo = {
                    'userId': userId,
                    'id1': id1,
                    'id2': id2,
                    'id3': id3,
                    'firstName': firstName,
                    'lastName': lastName
                };

    $('#wrapAssets').css('height', window.innerHeight - ($('header').height()+60) + 'px');  // removed $('#wrapSearch').height()*3)
    $('main').css('height', window.innerHeight - ($('header').height()+10) + 'px');
    $('aside').css('height', window.innerHeight - ($('header').height()+10) + 'px');
    console.log('sizes set ');


    appInitialise = new AppInit(userInfo, website, type, productId, layoutId, jsonId);
});

</script>
    
</body>
</html>